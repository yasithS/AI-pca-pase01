<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Columns</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/columns.css') }}">
</head>
<body>
    <h2>Select Columns from {{ file_name }}</h2>
    
    <form action="{{ url_for('select_columns') }}" method="post">
        {% for column in columns %}
            <div class="column-item">
                <input type="checkbox" name="columns" value="{{ column }}" id="{{ column }}">
                <label for="{{ column }}">{{ column }}</label>
            </div>
        {% endfor %}

        <br>
        <button type="submit" class="submit-btn">Next: Rename Columns</button>
    </form>
    
    <script>
        // Optional: Add select all functionality
        function addSelectAllButton() {
            const form = document.querySelector('form');
            const selectAllBtn = document.createElement('button');
            selectAllBtn.type = 'button';
            selectAllBtn.textContent = 'Select All';
            selectAllBtn.style.marginRight = '10px';
            selectAllBtn.onclick = function() {
                const checkboxes = document.querySelectorAll('input[type="checkbox"]');
                const allChecked = Array.from(checkboxes).every(cb => cb.checked);
                checkboxes.forEach(cb => cb.checked = !allChecked);
                this.textContent = allChecked ? 'Select All' : 'Deselect All';
            };
            
            const submitBtn = document.querySelector('.submit-btn');
            submitBtn.parentNode.insertBefore(selectAllBtn, submitBtn);
        }
        
        addSelectAllButton();
    </script>
</body>
</html>